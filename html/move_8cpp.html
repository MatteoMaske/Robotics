<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robotics Project: cpp_publisher/src/move.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Robotics Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_850da9c3cf7060362a820b1a22cd2c3d.html">cpp_publisher</a></li><li class="navelem"><a class="el" href="dir_d4d91f215e6b5f5d7ecdaf3737396a41.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">move.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>File containing the move node, which manage all the movement of the robot.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;Eigen/Dense&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;std_msgs/Float64MultiArray.h&gt;</code><br />
<code>#include &lt;std_msgs/Byte.h&gt;</code><br />
<code>#include &lt;std_msgs/String.h&gt;</code><br />
<code>#include &lt;sensor_msgs/JointState.h&gt;</code><br />
<code>#include &lt;cpp_publisher/Coordinates.h&gt;</code><br />
<code>#include &lt;cpp_publisher/MoveOperation.h&gt;</code><br />
<code>#include &lt;ros_impedance_controller/generic_float.h&gt;</code><br />
<code>#include &quot;<a class="el" href="kinematicsUr5_8cpp.html">kinematicsUr5.cpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="frame2frame_8cpp.html">frame2frame.cpp</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ad72dbcf6d0153db1b8d8a58001feed83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to slow down the movement process.  <br /></td></tr>
<tr class="separator:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe671b627b7b8f5f2971605e80d05740"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#afe671b627b7b8f5f2971605e80d05740">MANUAL_CONTROL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:afe671b627b7b8f5f2971605e80d05740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to enable the manual control of the robot.  <br /></td></tr>
<tr class="separator:afe671b627b7b8f5f2971605e80d05740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c39b27d2ae371d22c12917c05334b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a55c39b27d2ae371d22c12917c05334b5">REAL_ROBOT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a55c39b27d2ae371d22c12917c05334b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to enable the real robot mode.  <br /></td></tr>
<tr class="separator:a55c39b27d2ae371d22c12917c05334b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d56c68b27c04942d9d4ed8d481868b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a6d56c68b27c04942d9d4ed8d481868b4">LOOPRATE</a>&#160;&#160;&#160;1000</td></tr>
<tr class="memdesc:a6d56c68b27c04942d9d4ed8d481868b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop rate of publisher.  <br /></td></tr>
<tr class="separator:a6d56c68b27c04942d9d4ed8d481868b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5914af3b158974ab8fb0cd71fe4fc9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#aff5914af3b158974ab8fb0cd71fe4fc9">MOVEMENT_VELOCITY</a>&#160;&#160;&#160;0.3</td></tr>
<tr class="memdesc:aff5914af3b158974ab8fb0cd71fe4fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity of the movement while not approaching the block [m/s].  <br /></td></tr>
<tr class="separator:aff5914af3b158974ab8fb0cd71fe4fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377b6bfcd7b9ec23f993c44c6572d78c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a377b6bfcd7b9ec23f993c44c6572d78c">APPROACH_VELOCITY</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="memdesc:a377b6bfcd7b9ec23f993c44c6572d78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity while approaching the block [m/s].  <br /></td></tr>
<tr class="separator:a377b6bfcd7b9ec23f993c44c6572d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1903812fa2802b713985ff1d48485726"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a1903812fa2802b713985ff1d48485726">ROBOT_JOINTS</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:a1903812fa2802b713985ff1d48485726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of joints of the robot.  <br /></td></tr>
<tr class="separator:a1903812fa2802b713985ff1d48485726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79539d10d499eac5314c82616292d874"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a79539d10d499eac5314c82616292d874">EE_SOFT_JOINTS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a79539d10d499eac5314c82616292d874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of joints of the soft gripper.  <br /></td></tr>
<tr class="separator:a79539d10d499eac5314c82616292d874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0008ecc18a25f19976ebe14f7f56a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a2c0008ecc18a25f19976ebe14f7f56a6">EE_HARD_JOINTS</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a2c0008ecc18a25f19976ebe14f7f56a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of joints of the hard gripper.  <br /></td></tr>
<tr class="separator:a2c0008ecc18a25f19976ebe14f7f56a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7c56222e2dced20f48d197e7139bb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a5b7c56222e2dced20f48d197e7139bb0">HARD_GRIPPER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a5b7c56222e2dced20f48d197e7139bb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to enable the hard gripper.  <br /></td></tr>
<tr class="separator:a5b7c56222e2dced20f48d197e7139bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a56d6134c1e6ec94c9cd352aab0b4d7b4"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a56d6134c1e6ec94c9cd352aab0b4d7b4">currentJoint</a> (1, 6)</td></tr>
<tr class="memdesc:a56d6134c1e6ec94c9cd352aab0b4d7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current joint state of the robot.  <br /></td></tr>
<tr class="separator:a56d6134c1e6ec94c9cd352aab0b4d7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364851d9ef1c2e8fccb6e23b64e5cb13"><td class="memItemLeft" align="right" valign="top">Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a364851d9ef1c2e8fccb6e23b64e5cb13">xe</a> (float t, Vector3f xef, Vector3f xe0, const float &amp;movementTime)</td></tr>
<tr class="memdesc:a364851d9ef1c2e8fccb6e23b64e5cb13"><td class="mdescLeft">&#160;</td><td class="mdescRight">The position to be reach at an instance t whilst moving from xe0 to xef (linear interpolation of the position)  <br /></td></tr>
<tr class="separator:a364851d9ef1c2e8fccb6e23b64e5cb13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b254064e5157695acc837d1618dd7a"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a48b254064e5157695acc837d1618dd7a">toRotationMatrix</a> (Vector3f euler)</td></tr>
<tr class="memdesc:a48b254064e5157695acc837d1618dd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">From euler angles to rotation matrix.  <br /></td></tr>
<tr class="separator:a48b254064e5157695acc837d1618dd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810e80f53b57fe3ecd5faccde06b5271"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a810e80f53b57fe3ecd5faccde06b5271">computeMovementDifferential</a> (Vector3f targetPosition, Vector3f targetOrientation, float dt, const bool &amp;approach)</td></tr>
<tr class="memdesc:a810e80f53b57fe3ecd5faccde06b5271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the movement using the differential kinematics and relying on a straight line trajectory, with a velocity switching either for approach or for movement.  <br /></td></tr>
<tr class="separator:a810e80f53b57fe3ecd5faccde06b5271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bf6f715ca03d96f0a75d4775326037"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a29bf6f715ca03d96f0a75d4775326037">invDiffKinematiControlComplete</a> (MatrixXf q, MatrixXf <a class="el" href="move_8cpp.html#a364851d9ef1c2e8fccb6e23b64e5cb13">xe</a>, MatrixXf xd, MatrixXf vd, MatrixXf re, MatrixXf phif, MatrixXf kp, MatrixXf kphi)</td></tr>
<tr class="memdesc:a29bf6f715ca03d96f0a75d4775326037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the joint velocities qdot using the inverse differential kinematics.  <br /></td></tr>
<tr class="separator:a29bf6f715ca03d96f0a75d4775326037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296e854598c4f360422f0712e976bb08"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a296e854598c4f360422f0712e976bb08">computeOrientationError</a> (MatrixXf wRe, MatrixXf wRd)</td></tr>
<tr class="memdesc:a296e854598c4f360422f0712e976bb08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the orientation error between the desired and the current orientation.  <br /></td></tr>
<tr class="separator:a296e854598c4f360422f0712e976bb08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0fea49241a2fce9f8134406c143b38a"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#ab0fea49241a2fce9f8134406c143b38a">jacobian</a> (MatrixXf Th)</td></tr>
<tr class="memdesc:ab0fea49241a2fce9f8134406c143b38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the jacobian matrix.  <br /></td></tr>
<tr class="separator:ab0fea49241a2fce9f8134406c143b38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0898f9524c144c254f7d6cc6b83fc1d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a0898f9524c144c254f7d6cc6b83fc1d7">coordinateCallback</a> (const cpp_publisher::Coordinates::ConstPtr &amp;coordinateMessage)</td></tr>
<tr class="memdesc:a0898f9524c144c254f7d6cc6b83fc1d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for the coordinates sended by the planner.  <br /></td></tr>
<tr class="separator:a0898f9524c144c254f7d6cc6b83fc1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bda042bb6024027fe1099c1aa83459d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a9bda042bb6024027fe1099c1aa83459d">publishJoint</a> (MatrixXf publishPos)</td></tr>
<tr class="memdesc:a9bda042bb6024027fe1099c1aa83459d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish the joint angles to the robot, using its specific topic.  <br /></td></tr>
<tr class="separator:a9bda042bb6024027fe1099c1aa83459d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a79e79d4b706444086a819eecde0430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a5a79e79d4b706444086a819eecde0430">publishMoveOperation</a> (int blockId, bool success)</td></tr>
<tr class="memdesc:a5a79e79d4b706444086a819eecde0430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an ack to the planner in order to communicate the correct execution of the move operation.  <br /></td></tr>
<tr class="separator:a5a79e79d4b706444086a819eecde0430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4383e5add33e0ceb38d8d04615698082"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a4383e5add33e0ceb38d8d04615698082">changeSoftGripper</a> (float firstVal, float secondVal)</td></tr>
<tr class="memdesc:a4383e5add33e0ceb38d8d04615698082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the joint of the soft gripper, publishing to its topic.  <br /></td></tr>
<tr class="separator:a4383e5add33e0ceb38d8d04615698082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0821cee80412a89217a2d55da29d51e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a0821cee80412a89217a2d55da29d51e6">changeHardGripper</a> (float diameter)</td></tr>
<tr class="memdesc:a0821cee80412a89217a2d55da29d51e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the joint of the hard gripper, publishing to its topic.  <br /></td></tr>
<tr class="separator:a0821cee80412a89217a2d55da29d51e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bee85088ddd758c23b562f21bbfc48"><td class="memItemLeft" align="right" valign="top">Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a10bee85088ddd758c23b562f21bbfc48">mapToGripperJoints</a> (float diameter)</td></tr>
<tr class="memdesc:a10bee85088ddd758c23b562f21bbfc48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function computes the angles of the gripper joint based on the diameter given.  <br /></td></tr>
<tr class="separator:a10bee85088ddd758c23b562f21bbfc48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b58ef7c76fc01bf16934ab68e96013"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a75b58ef7c76fc01bf16934ab68e96013">moveObject</a> (Vector3f pos, Vector3f ori, Vector3f targetPos)</td></tr>
<tr class="memdesc:a75b58ef7c76fc01bf16934ab68e96013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the movement routine to move the object from its position to its target position.  <br /></td></tr>
<tr class="separator:a75b58ef7c76fc01bf16934ab68e96013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a85362704447362263241b6346eef38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a9a85362704447362263241b6346eef38">moveDown</a> (float distance)</td></tr>
<tr class="memdesc:a9a85362704447362263241b6346eef38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the robot down by a certain distance on the z axis.  <br /></td></tr>
<tr class="separator:a9a85362704447362263241b6346eef38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5252fcad35f125afab82358feb868fd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a5252fcad35f125afab82358feb868fd0">moveUp</a> (float distance)</td></tr>
<tr class="memdesc:a5252fcad35f125afab82358feb868fd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the robot up by a certain distance on the z axis.  <br /></td></tr>
<tr class="separator:a5252fcad35f125afab82358feb868fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7098b19c0fc2c753f563a8b45bdcb31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#ab7098b19c0fc2c753f563a8b45bdcb31">generateManualControlMenu</a> ()</td></tr>
<tr class="memdesc:ab7098b19c0fc2c753f563a8b45bdcb31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a human readable menu for manual control of the robot with differential commands.  <br /></td></tr>
<tr class="separator:ab7098b19c0fc2c753f563a8b45bdcb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8418b967099e9d0d6a604bdef6f97867"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a8418b967099e9d0d6a604bdef6f97867">pub_des_jstate</a></td></tr>
<tr class="memdesc:a8418b967099e9d0d6a604bdef6f97867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publisher for desired joint state.  <br /></td></tr>
<tr class="separator:a8418b967099e9d0d6a604bdef6f97867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d4603ac75a1ba4d9f0ca89c04d8d08d"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a7d4603ac75a1ba4d9f0ca89c04d8d08d">pub_move_operation</a></td></tr>
<tr class="memdesc:a7d4603ac75a1ba4d9f0ca89c04d8d08d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publisher for the result of the movement to be sent to the planner.  <br /></td></tr>
<tr class="separator:a7d4603ac75a1ba4d9f0ca89c04d8d08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aba85911a3ef3c07a03ded34b8ac5c6"><td class="memItemLeft" align="right" valign="top">ros::ServiceClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#a4aba85911a3ef3c07a03ded34b8ac5c6">gripperClient</a></td></tr>
<tr class="memdesc:a4aba85911a3ef3c07a03ded34b8ac5c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Client for the service call to move the gripper.  <br /></td></tr>
<tr class="separator:a4aba85911a3ef3c07a03ded34b8ac5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc65db2c474a5714b9c2851555c6066c"><td class="memItemLeft" align="right" valign="top">MatrixXf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8cpp.html#acc65db2c474a5714b9c2851555c6066c">currentGripper</a></td></tr>
<tr class="memdesc:acc65db2c474a5714b9c2851555c6066c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current joint state of the gripper.  <br /></td></tr>
<tr class="separator:acc65db2c474a5714b9c2851555c6066c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File containing the move node, which manage all the movement of the robot. </p>
<dl class="section author"><dt>Author</dt><dd>Matteo Mascherin </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-02-17</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a377b6bfcd7b9ec23f993c44c6572d78c" name="a377b6bfcd7b9ec23f993c44c6572d78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377b6bfcd7b9ec23f993c44c6572d78c">&#9670;&#160;</a></span>APPROACH_VELOCITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPROACH_VELOCITY&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity while approaching the block [m/s]. </p>

</div>
</div>
<a id="ad72dbcf6d0153db1b8d8a58001feed83" name="ad72dbcf6d0153db1b8d8a58001feed83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad72dbcf6d0153db1b8d8a58001feed83">&#9670;&#160;</a></span>DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to slow down the movement process. </p>

</div>
</div>
<a id="a2c0008ecc18a25f19976ebe14f7f56a6" name="a2c0008ecc18a25f19976ebe14f7f56a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0008ecc18a25f19976ebe14f7f56a6">&#9670;&#160;</a></span>EE_HARD_JOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EE_HARD_JOINTS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of joints of the hard gripper. </p>

</div>
</div>
<a id="a79539d10d499eac5314c82616292d874" name="a79539d10d499eac5314c82616292d874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79539d10d499eac5314c82616292d874">&#9670;&#160;</a></span>EE_SOFT_JOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EE_SOFT_JOINTS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of joints of the soft gripper. </p>

</div>
</div>
<a id="a5b7c56222e2dced20f48d197e7139bb0" name="a5b7c56222e2dced20f48d197e7139bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7c56222e2dced20f48d197e7139bb0">&#9670;&#160;</a></span>HARD_GRIPPER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HARD_GRIPPER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to enable the hard gripper. </p>

</div>
</div>
<a id="a6d56c68b27c04942d9d4ed8d481868b4" name="a6d56c68b27c04942d9d4ed8d481868b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d56c68b27c04942d9d4ed8d481868b4">&#9670;&#160;</a></span>LOOPRATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOPRATE&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loop rate of publisher. </p>

</div>
</div>
<a id="afe671b627b7b8f5f2971605e80d05740" name="afe671b627b7b8f5f2971605e80d05740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe671b627b7b8f5f2971605e80d05740">&#9670;&#160;</a></span>MANUAL_CONTROL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUAL_CONTROL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to enable the manual control of the robot. </p>

</div>
</div>
<a id="aff5914af3b158974ab8fb0cd71fe4fc9" name="aff5914af3b158974ab8fb0cd71fe4fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff5914af3b158974ab8fb0cd71fe4fc9">&#9670;&#160;</a></span>MOVEMENT_VELOCITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MOVEMENT_VELOCITY&#160;&#160;&#160;0.3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity of the movement while not approaching the block [m/s]. </p>

</div>
</div>
<a id="a55c39b27d2ae371d22c12917c05334b5" name="a55c39b27d2ae371d22c12917c05334b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c39b27d2ae371d22c12917c05334b5">&#9670;&#160;</a></span>REAL_ROBOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REAL_ROBOT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to enable the real robot mode. </p>

</div>
</div>
<a id="a1903812fa2802b713985ff1d48485726" name="a1903812fa2802b713985ff1d48485726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1903812fa2802b713985ff1d48485726">&#9670;&#160;</a></span>ROBOT_JOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROBOT_JOINTS&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of joints of the robot. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0821cee80412a89217a2d55da29d51e6" name="a0821cee80412a89217a2d55da29d51e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0821cee80412a89217a2d55da29d51e6">&#9670;&#160;</a></span>changeHardGripper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeHardGripper </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>diameter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the joint of the hard gripper, publishing to its topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentJoint</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4383e5add33e0ceb38d8d04615698082" name="a4383e5add33e0ceb38d8d04615698082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4383e5add33e0ceb38d8d04615698082">&#9670;&#160;</a></span>changeSoftGripper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeSoftGripper </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>firstVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>secondVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the joint of the soft gripper, publishing to its topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">firstVal</td><td></td></tr>
    <tr><td class="paramname">secondVal</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a810e80f53b57fe3ecd5faccde06b5271" name="a810e80f53b57fe3ecd5faccde06b5271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810e80f53b57fe3ecd5faccde06b5271">&#9670;&#160;</a></span>computeMovementDifferential()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeMovementDifferential </td>
          <td>(</td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>targetOrientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>approach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the movement using the differential kinematics and relying on a straight line trajectory, with a velocity switching either for approach or for movement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetPosition</td><td></td></tr>
    <tr><td class="paramname">targetOrientation</td><td></td></tr>
    <tr><td class="paramname">dt</td><td></td></tr>
    <tr><td class="paramname">approach</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a296e854598c4f360422f0712e976bb08" name="a296e854598c4f360422f0712e976bb08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296e854598c4f360422f0712e976bb08">&#9670;&#160;</a></span>computeOrientationError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf computeOrientationError </td>
          <td>(</td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>wRe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>wRd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the orientation error between the desired and the current orientation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wRe</td><td></td></tr>
    <tr><td class="paramname">wRd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MatrixXf </dd></dl>

</div>
</div>
<a id="a0898f9524c144c254f7d6cc6b83fc1d7" name="a0898f9524c144c254f7d6cc6b83fc1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0898f9524c144c254f7d6cc6b83fc1d7">&#9670;&#160;</a></span>coordinateCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coordinateCallback </td>
          <td>(</td>
          <td class="paramtype">const cpp_publisher::Coordinates::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>coordinateMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for the coordinates sended by the planner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coordinateMessage</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56d6134c1e6ec94c9cd352aab0b4d7b4" name="a56d6134c1e6ec94c9cd352aab0b4d7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d6134c1e6ec94c9cd352aab0b4d7b4">&#9670;&#160;</a></span>currentJoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf currentJoint </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">6&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current joint state of the robot. </p>

</div>
</div>
<a id="ab7098b19c0fc2c753f563a8b45bdcb31" name="ab7098b19c0fc2c753f563a8b45bdcb31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7098b19c0fc2c753f563a8b45bdcb31">&#9670;&#160;</a></span>generateManualControlMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generateManualControlMenu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a human readable menu for manual control of the robot with differential commands. </p>

</div>
</div>
<a id="a29bf6f715ca03d96f0a75d4775326037" name="a29bf6f715ca03d96f0a75d4775326037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bf6f715ca03d96f0a75d4775326037">&#9670;&#160;</a></span>invDiffKinematiControlComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf invDiffKinematiControlComplete </td>
          <td>(</td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>xe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>xd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>vd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>re</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>phif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>kphi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the joint velocities qdot using the inverse differential kinematics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td></td></tr>
    <tr><td class="paramname">xe</td><td></td></tr>
    <tr><td class="paramname">xd</td><td></td></tr>
    <tr><td class="paramname">vd</td><td></td></tr>
    <tr><td class="paramname">re</td><td></td></tr>
    <tr><td class="paramname">phif</td><td></td></tr>
    <tr><td class="paramname">kp</td><td></td></tr>
    <tr><td class="paramname">kphi</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MatrixXf </dd></dl>

</div>
</div>
<a id="ab0fea49241a2fce9f8134406c143b38a" name="ab0fea49241a2fce9f8134406c143b38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0fea49241a2fce9f8134406c143b38a">&#9670;&#160;</a></span>jacobian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf jacobian </td>
          <td>(</td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>Th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the jacobian matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Th</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MatrixXf </dd></dl>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a10bee85088ddd758c23b562f21bbfc48" name="a10bee85088ddd758c23b562f21bbfc48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10bee85088ddd758c23b562f21bbfc48">&#9670;&#160;</a></span>mapToGripperJoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Vector3f mapToGripperJoints </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>diameter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function computes the angles of the gripper joint based on the diameter given. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">diameter</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector3f </dd></dl>

</div>
</div>
<a id="a9a85362704447362263241b6346eef38" name="a9a85362704447362263241b6346eef38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a85362704447362263241b6346eef38">&#9670;&#160;</a></span>moveDown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveDown </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the robot down by a certain distance on the z axis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75b58ef7c76fc01bf16934ab68e96013" name="a75b58ef7c76fc01bf16934ab68e96013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b58ef7c76fc01bf16934ab68e96013">&#9670;&#160;</a></span>moveObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveObject </td>
          <td>(</td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>ori</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>targetPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the movement routine to move the object from its position to its target position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td></td></tr>
    <tr><td class="paramname">ori</td><td></td></tr>
    <tr><td class="paramname">targetPos</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5252fcad35f125afab82358feb868fd0" name="a5252fcad35f125afab82358feb868fd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5252fcad35f125afab82358feb868fd0">&#9670;&#160;</a></span>moveUp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveUp </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the robot up by a certain distance on the z axis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9bda042bb6024027fe1099c1aa83459d" name="a9bda042bb6024027fe1099c1aa83459d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bda042bb6024027fe1099c1aa83459d">&#9670;&#160;</a></span>publishJoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publishJoint </td>
          <td>(</td>
          <td class="paramtype">MatrixXf&#160;</td>
          <td class="paramname"><em>publishPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish the joint angles to the robot, using its specific topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publishPos</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a79e79d4b706444086a819eecde0430" name="a5a79e79d4b706444086a819eecde0430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a79e79d4b706444086a819eecde0430">&#9670;&#160;</a></span>publishMoveOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publishMoveOperation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>success</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an ack to the planner in order to communicate the correct execution of the move operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockId</td><td></td></tr>
    <tr><td class="paramname">success</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48b254064e5157695acc837d1618dd7a" name="a48b254064e5157695acc837d1618dd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b254064e5157695acc837d1618dd7a">&#9670;&#160;</a></span>toRotationMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf toRotationMatrix </td>
          <td>(</td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>euler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>From euler angles to rotation matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">euler</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Eigen::MatrixXf </dd></dl>

</div>
</div>
<a id="a364851d9ef1c2e8fccb6e23b64e5cb13" name="a364851d9ef1c2e8fccb6e23b64e5cb13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364851d9ef1c2e8fccb6e23b64e5cb13">&#9670;&#160;</a></span>xe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Vector3f xe </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>xef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector3f&#160;</td>
          <td class="paramname"><em>xe0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float &amp;&#160;</td>
          <td class="paramname"><em>movementTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The position to be reach at an instance t whilst moving from xe0 to xef (linear interpolation of the position) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>time elapsed so far </td></tr>
    <tr><td class="paramname">xef</td><td>final position </td></tr>
    <tr><td class="paramname">xe0</td><td>initial position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector3f reprensenting the position </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acc65db2c474a5714b9c2851555c6066c" name="acc65db2c474a5714b9c2851555c6066c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc65db2c474a5714b9c2851555c6066c">&#9670;&#160;</a></span>currentGripper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatrixXf currentGripper</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current joint state of the gripper. </p>

</div>
</div>
<a id="a4aba85911a3ef3c07a03ded34b8ac5c6" name="a4aba85911a3ef3c07a03ded34b8ac5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aba85911a3ef3c07a03ded34b8ac5c6">&#9670;&#160;</a></span>gripperClient</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceClient gripperClient</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Client for the service call to move the gripper. </p>

</div>
</div>
<a id="a8418b967099e9d0d6a604bdef6f97867" name="a8418b967099e9d0d6a604bdef6f97867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8418b967099e9d0d6a604bdef6f97867">&#9670;&#160;</a></span>pub_des_jstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher pub_des_jstate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publisher for desired joint state. </p>

</div>
</div>
<a id="a7d4603ac75a1ba4d9f0ca89c04d8d08d" name="a7d4603ac75a1ba4d9f0ca89c04d8d08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d4603ac75a1ba4d9f0ca89c04d8d08d">&#9670;&#160;</a></span>pub_move_operation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher pub_move_operation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publisher for the result of the movement to be sent to the planner. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
